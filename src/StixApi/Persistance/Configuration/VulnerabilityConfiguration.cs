using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Metadata.Builders;
using StixApi.Persistance.Models;

namespace StixApi.Persistance.Configuration;

public class VulnerabilityConfiguration : IEntityTypeConfiguration<VulnerabilityDbModel>
{
    public void Configure(EntityTypeBuilder<VulnerabilityDbModel> builder)
    {
        builder.ToTable("Vulnerability");
        builder.HasKey(v => v.Id);
        builder.Property(v => v.Id)
            .HasColumnName("Id")
            .IsRequired();
        builder.Property(v => v.Value)
            .HasColumnName("Value")
            .IsRequired();
        builder.Property(v => v.Value)
            .HasColumnType("jsonb");
    }
}